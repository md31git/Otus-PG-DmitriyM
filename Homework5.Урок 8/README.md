## 1.Развернута ВМ со следующими данными через WSL
### Исходные данные:
* Виртуальная машина =  WSL (Ubuntu 22.04.1)
* PostgreSQL =  14.12
* Процессор = 8 ядер
* ОЗУ = 8Гб
* Диск = HDD

## 2.Создать БД для тестов: выполнить pgbench -i postgres
Для использования утилиты необходимо ее инициализировать: создаются набор таблиц для использования в нагрузке в указанной БД postgres. Запуск от имени пользователя postgres

![image](https://github.com/user-attachments/assets/41ae36ab-c5b4-4f72-8efd-749c8e6c29b3)

## 3.Запустить pgbench -c8 -P 6 -T 60 -U postgres postgres
![image](https://github.com/user-attachments/assets/0acba6c2-2749-42a4-bd70-1a003ca5bc0b)

**Итоговая tps = 26.175445**

## 4.Применить параметры настройки PostgreSQL из прикрепленного к материалам занятия файла
### Чтобы применить новые параметры конфигурации возпользуемся созданием пользовательской конфигурации в папке conf.d.

Сначала проверим что эта настройка включена в файле postgresql.conf

![image](https://github.com/user-attachments/assets/fad60280-8adc-432c-9972-3568a7d343dc)

Листаем в конец файла. Использование пользовательских файлов конфигуарции PG включено.

![image](https://github.com/user-attachments/assets/7f641675-7491-4171-a46e-3654dd85da56)

Создаем файл с расширением conf и вставляем туда данные из прикрепленного файла к ДЗ

![image](https://github.com/user-attachments/assets/e1096c65-c327-403c-8604-4577895317fa)

Добавляем настройки и сохраняем

![image](https://github.com/user-attachments/assets/298beebb-5935-410d-a546-75e95acd4981)

### Запускаем заново тестовую нагрузку 


Протестировать заново
Что изменилось и почему?
Создать таблицу с текстовым полем и заполнить случайными или сгенерированными данным в размере 1млн строк
Посмотреть размер файла с таблицей
5 раз обновить все строчки и добавить к каждой строчке любой символ
Посмотреть количество мертвых строчек в таблице и когда последний раз приходил автовакуум
Подождать некоторое время, проверяя, пришел ли автовакуум
5 раз обновить все строчки и добавить к каждой строчке любой символ
Посмотреть размер файла с таблицей
Отключить Автовакуум на конкретной таблице
10 раз обновить все строчки и добавить к каждой строчке любой символ
Посмотреть размер файла с таблицей
Объясните полученный результат
Не забудьте включить автовакуум)
Задание со *:
Написать анонимную процедуру, в которой в цикле 10 раз обновятся все строчки в искомой таблице.
Не забыть вывести номер шага цикла.
